// Observer index.js

var isMoveLegal = require('legalChecker');

var observer = function(board, pieces, bus) {
    var that = this;
    this.board = board;
    this.pieces = pieces;
    this.bus = bus;

    this.moveCheck = function(square, color, file, rank) {
        return isMoveLegal(square, color, file, rank, that);
    };
};

// Check if the move is legal for the given piece
observer.prototype.move = function(square, color, file, rank) {
    return this.moveCheck(square, color, file, rank);
};

module.exports = observer;